{"ast":null,"code":"var _jsxFileName = \"D:\\\\EventMate-Integrated (1)\\\\integrated\\\\eventmate-frontend\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../styles/Login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const navigate = useNavigate();\n  const [role, setRole] = useState(\"USER\");\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prevForm => ({\n      ...prevForm,\n      [name]: value\n    }));\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const url = role === \"ORGANIZER\" ? \"http://localhost:8080/api/organizer/login\" : \"http://localhost:8080/api/user/login\";\n      const res = await axios.post(url, form, {\n        withCredentials: true\n      });\n      if (res.data.message === \"Login successful\") {\n        // Construct user object\n        const user = {\n          id: res.data.id,\n          name: res.data.name,\n          email: res.data.email,\n          role: role\n        };\n        localStorage.setItem(\"user\", JSON.stringify(user));\n        localStorage.setItem(\"role\", role);\n        localStorage.setItem(\"email\", form.email);\n        navigate(role === \"ORGANIZER\" ? \"/organizer\" : \"/user\"); // navigate directly\n      } else {\n        setMessage(res.data.message);\n      }\n    } catch (err) {\n      setMessage(\"Invalid Email or Password\");\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: \"\\u2726\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"subtitle\",\n        children: \"Sign in to your EventMate account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"role-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `role-box ${role === \"USER\" && \"active\"}`,\n          onClick: () => setRole(\"USER\"),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Browse & book events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `role-box ${role === \"ORGANIZER\" && \"active\"}`,\n          onClick: () => setRole(\"ORGANIZER\"),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Organizer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Create & manage events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"Email\",\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: loading ? \"Signing in...\" : \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"switch-text\",\n        children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => role === \"ORGANIZER\" ? navigate(\"/register\") : navigate(\"/user-register\"),\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"fpZrS4A5pKpKW2VhfWLA9m1Yc/4=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","axios","useNavigate","jsxDEV","_jsxDEV","Login","_s","navigate","role","setRole","form","setForm","email","password","message","setMessage","loading","setLoading","handleChange","e","name","value","target","prevForm","handleLogin","preventDefault","url","res","post","withCredentials","data","user","id","localStorage","setItem","JSON","stringify","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","type","placeholder","onChange","required","_c","$RefreshReg$"],"sources":["D:/EventMate-Integrated (1)/integrated/eventmate-frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../styles/Login.css\";\nexport default function Login() {\n\n    const navigate = useNavigate();\n\n    const [role, setRole] = useState(\"USER\");\n\n    const [form, setForm] = useState({\n        email: \"\",\n        password: \"\"\n    });\n\n    const [message, setMessage] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n    const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm((prevForm) => ({\n        ...prevForm,\n        [name]: value,\n    }));\n};\n\n    const handleLogin = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n        const url =\n            role === \"ORGANIZER\"\n                ? \"http://localhost:8080/api/organizer/login\"\n                : \"http://localhost:8080/api/user/login\";\n\n        const res = await axios.post(url, form, { withCredentials: true });\n\n        if (res.data.message === \"Login successful\") {\n\n            // Construct user object\n            const user = {\n                id: res.data.id,\n                name: res.data.name,\n                email: res.data.email,\n                role: role\n            };\n\n            localStorage.setItem(\"user\", JSON.stringify(user));\n            localStorage.setItem(\"role\", role);\n            localStorage.setItem(\"email\", form.email);\n\n            navigate(role === \"ORGANIZER\" ? \"/organizer\" : \"/user\"); // navigate directly\n        } else {\n             setMessage(res.data.message);\n        }\n    } catch (err) {\n        setMessage(\"Invalid Email or Password\");\n    }\n\n    setLoading(false);\n};\n\n    return (\n\n        <div className=\"login-container\">\n\n            <div className=\"login-card\">\n\n                <div className=\"logo\">âœ¦</div>\n\n                <h1>Welcome Back</h1>\n\n                <p className=\"subtitle\">\n                    Sign in to your EventMate account\n                </p>\n\n\n                {/* ROLE SELECTION */}\n\n                <div className=\"role-container\">\n\n                    <div\n                        className={`role-box ${role === \"USER\" && \"active\"}`}\n                        onClick={() => setRole(\"USER\")}\n                    >\n                        <h3>User</h3>\n                        <p>Browse & book events</p>\n                    </div>\n\n\n                    <div\n                        className={`role-box ${role === \"ORGANIZER\" && \"active\"}`}\n                        onClick={() => setRole(\"ORGANIZER\")}\n                    >\n                        <h3>Organizer</h3>\n                        <p>Create & manage events</p>\n                    </div>\n\n                </div>\n\n                <form onSubmit={handleLogin}>\n\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder=\"Email\"\n                        onChange={handleChange}\n                        required\n                    />\n\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        placeholder=\"Password\"\n                        onChange={handleChange}\n                        required\n                    />\n\n\n                    <button>\n\n                        {loading ? \"Signing in...\" : \"Sign In\"}\n\n                    </button>\n\n                </form>\n\n\n                <p className=\"switch-text\">\n\n                    Don't have an account?\n                    <span\n                        onClick={() =>\n                            role === \"ORGANIZER\"\n                                ? navigate(\"/register\")\n                                : navigate(\"/user-register\")\n                        }\n                    >\n                        Register\n                    </span>\n\n                </p>\n\n\n                <p className=\"message\">{message}</p>\n\n\n            </div>\n\n        </div>\n\n    );\n\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}